enum TransactionType {
  TRANSFER
  MINT
  BURN
}

type TokenHolderTransaction @entity(immutable: true) {
  id: ID! # <tokenholder ID>-transaction
  balance: BigDecimal!
  block: BigInt!
  date: String! # ISO 8601 format
  type: TransactionType!
  holder: TokenHolder!
  previousBalance: BigDecimal!
  timestamp: String! # Unix format
  transaction: Bytes!
  value: BigDecimal!
}

type TokenHolderSnapshot @entity {
  id: ID! # <token ID>-holder-<YYYY-MM-DD>
  holder: TokenHolder!
  date: String! # YYYY-MM-DD
  balance: BigDecimal!
}

type TokenHolder @entity {
  id: ID! # <token ID>-holder
  balance: BigDecimal!
  holder: Bytes!
  token: Token!
  latestSnapshot: ID
}

type Token @entity {
  id: ID! # token-blockchain
  address: Bytes!
  blockchain: String!
  name: String!
}
